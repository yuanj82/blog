<!doctype html><html lang=en><head><title>正则表达式 · UncleCAT4</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="UncleCAT4"><meta name=description content="Python 调用正则表达式 Link to heading Python 中使用正则表达式需要先导入 re 模块并且定义正则表达式然后再进行通过 re 模块的函数调用
>>> import re >>> p = r'\w+@gmail\.com' >>> email = 'hieroglyphs@gmail.com' >>> m = re.match(p, email) >>> print(m) <re.Match object; span=(0, 21), match='hieroglyphs@gmail.com'> 返回非空的 Match 对象则说明匹配成功，返回 None 则匹配失败
Python 中 re 模块常用的函数（p 为正则表达式，string 为字符串）：
search(p, string) 查找字符串，返回非空的 Match 对象则说明匹配成功，返回 None 则匹配失败 findall(p, string) 查找字符串，如果找到会返回所有匹配到的字符串列表，如果找不到则返回 None sub(p, repl, string, count=0) 字符串替换，repl 是用于替换的新字符串，string 是要被替换的字符串，count 是要替换的最大数量，默认为 0，表示不限制数量 split(p, string, maxsplit=0) 字符串分割，maxsplit 表示最大分割次数，默认为 0，表示不限制次数 正则表达式语法 Link to heading 限定符"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="正则表达式"><meta name=twitter:description content="Python 调用正则表达式 Link to heading Python 中使用正则表达式需要先导入 re 模块并且定义正则表达式然后再进行通过 re 模块的函数调用
>>> import re >>> p = r'\w+@gmail\.com' >>> email = 'hieroglyphs@gmail.com' >>> m = re.match(p, email) >>> print(m) <re.Match object; span=(0, 21), match='hieroglyphs@gmail.com'> 返回非空的 Match 对象则说明匹配成功，返回 None 则匹配失败
Python 中 re 模块常用的函数（p 为正则表达式，string 为字符串）：
search(p, string) 查找字符串，返回非空的 Match 对象则说明匹配成功，返回 None 则匹配失败 findall(p, string) 查找字符串，如果找到会返回所有匹配到的字符串列表，如果找不到则返回 None sub(p, repl, string, count=0) 字符串替换，repl 是用于替换的新字符串，string 是要被替换的字符串，count 是要替换的最大数量，默认为 0，表示不限制数量 split(p, string, maxsplit=0) 字符串分割，maxsplit 表示最大分割次数，默认为 0，表示不限制次数 正则表达式语法 Link to heading 限定符"><meta property="og:title" content="正则表达式"><meta property="og:description" content="Python 调用正则表达式 Link to heading Python 中使用正则表达式需要先导入 re 模块并且定义正则表达式然后再进行通过 re 模块的函数调用
>>> import re >>> p = r'\w+@gmail\.com' >>> email = 'hieroglyphs@gmail.com' >>> m = re.match(p, email) >>> print(m) <re.Match object; span=(0, 21), match='hieroglyphs@gmail.com'> 返回非空的 Match 对象则说明匹配成功，返回 None 则匹配失败
Python 中 re 模块常用的函数（p 为正则表达式，string 为字符串）：
search(p, string) 查找字符串，返回非空的 Match 对象则说明匹配成功，返回 None 则匹配失败 findall(p, string) 查找字符串，如果找到会返回所有匹配到的字符串列表，如果找不到则返回 None sub(p, repl, string, count=0) 字符串替换，repl 是用于替换的新字符串，string 是要被替换的字符串，count 是要替换的最大数量，默认为 0，表示不限制数量 split(p, string, maxsplit=0) 字符串分割，maxsplit 表示最大分割次数，默认为 0，表示不限制次数 正则表达式语法 Link to heading 限定符"><meta property="og:type" content="article"><meta property="og:url" content="https://yuanj.top/posts/psdafh23h/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-09-05T20:45:30+08:00"><meta property="article:modified_time" content="2023-09-05T20:45:30+08:00"><link rel=canonical href=https://yuanj.top/posts/psdafh23h/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.4ff0f6b1ce46fcca32601b45522839ee29e1edd49053a366cf597e1a2ebec060.css integrity="sha256-T/D2sc5G/MoyYBtFUig57inh7dSQU6Nmz1l+Gi6+wGA=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/favicon.ico sizes=any><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>UncleCAT4</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/essay/>Essay</a></li><li class=navigation-item><a class=navigation-link href=/gestbook/>Gestbook</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://yuanj.top/posts/psdafh23h/>正则表达式</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2023-09-05T20:45:30+08:00>September 5, 2023</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
One-minute read</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/python/>Python</a></span></div></div></header><div class=post-content><h2 id=python-调用正则表达式>Python 调用正则表达式
<a class=heading-link href=#python-%e8%b0%83%e7%94%a8%e6%ad%a3%e5%88%99%e8%a1%a8%e8%be%be%e5%bc%8f><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Python 中使用正则表达式需要先导入 re 模块并且定义正则表达式然后再进行通过 re 模块的函数调用</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>re</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>p</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;\w+@gmail\.com&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>email</span> <span class=o>=</span> <span class=s1>&#39;hieroglyphs@gmail.com&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>m</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=k>match</span><span class=p>(</span><span class=n>p</span><span class=p>,</span> <span class=n>email</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>m</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>re</span><span class=o>.</span><span class=n>Match</span> <span class=nb>object</span><span class=p>;</span> <span class=n>span</span><span class=o>=</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>21</span><span class=p>),</span> <span class=k>match</span><span class=o>=</span><span class=s1>&#39;hieroglyphs@gmail.com&#39;</span><span class=o>&gt;</span>
</span></span></code></pre></div><p>返回非空的 Match 对象则说明匹配成功，返回 None 则匹配失败</p><p>Python 中 re 模块常用的函数（p 为正则表达式，string 为字符串）：</p><ul><li><strong>search(p, string)</strong> 查找字符串，返回非空的 Match 对象则说明匹配成功，返回 None 则匹配失败</li><li><strong>findall(p, string)</strong> 查找字符串，如果找到会返回所有匹配到的字符串列表，如果找不到则返回 None</li><li><strong>sub(p, repl, string, count=0)</strong> 字符串替换，repl 是用于替换的新字符串，string 是要被替换的字符串，count 是要替换的最大数量，默认为 0，表示不限制数量</li><li><strong>split(p, string, maxsplit=0)</strong> 字符串分割，maxsplit 表示最大分割次数，默认为 0，表示不限制次数</li></ul><h2 id=正则表达式语法>正则表达式语法
<a class=heading-link href=#%e6%ad%a3%e5%88%99%e8%a1%a8%e8%be%be%e5%bc%8f%e8%af%ad%e6%b3%95><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><ul><li><p>限定符</p><ul><li><strong>a</strong>* a 出现 0 次或多次</li><li><strong>a+</strong> a 出现 1 次或多次</li><li><strong>a?</strong> a 出现 0 次或多次</li><li><strong>a{6}</strong> a 出现 6 次</li><li><strong>a{2,6}</strong> a 出现 2-6 次</li><li><strong>a{2,}</strong> a 出现 2 次以上</li></ul></li><li><p>或运算符</p><ul><li><strong>(a|b)</strong> 匹配 a 或 b</li><li><strong>(ab)|(cd)</strong> 匹配 ab 或 cd</li></ul></li><li><p>字符类</p><ul><li><strong>[abc]</strong> 匹配 a 或 b 或 c</li><li><strong>[a-c]</strong> 匹配 a 或 b 或 c</li><li><strong>[a-fA-F0-9]</strong> 匹配所有小写字母、大写字母及数字或它们的组合</li><li><strong>[^0-9]</strong> 除了数字其它都匹配</li></ul></li><li><p>元字符</p><ul><li><strong>\d</strong> 匹配数字字符（0-9）</li><li><strong>\D</strong> 匹配非数字字符</li><li><strong>\w</strong> 匹配单词字符（英文、数字、下划线）</li><li><strong>\W</strong> 匹配非单词字符</li><li><strong>\s</strong> 匹配空白符（包括换行符、Tab 制表符）</li><li><strong>\S</strong> 匹配非空白符</li><li><strong>.</strong> 匹配任意字符（换行符除外）</li><li><strong>\bword\b</strong> \b 标注字符的边界（全字匹配）</li><li><strong>^</strong> 匹配行首</li><li>**$**匹配行尾</li></ul></li><li><p>贪婪/懒惰匹配</p><ul><li><strong>&lt;.+></strong> 默认贪婪匹配“任意字符”</li><li><strong>&lt;.+?></strong> 懒惰匹配“任意字符”</li></ul></li></ul><h2 id=例子>例子
<a class=heading-link href=#%e4%be%8b%e5%ad%90><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>匹配下列文本中的 IP 地址</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>255.255.255.1
</span></span><span class=line><span class=cl>255.255.0.1
</span></span><span class=line><span class=cl>256.256.255.1
</span></span><span class=line><span class=cl>256.256.255
</span></span><span class=line><span class=cl>abcd.efg.hig.c
</span></span><span class=line><span class=cl>giduihda
</span></span><span class=line><span class=cl>19216801
</span></span><span class=line><span class=cl>192.16801
</span></span><span class=line><span class=cl>192.168.0.1
</span></span><span class=line><span class=cl>10.32.14.754
</span></span><span class=line><span class=cl>4.2.2.1
</span></span></code></pre></div><p><strong>正则表达式</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>\b((25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(25[0-5]|2[0-4]\d|[01]?\d\d?)\b
</span></span></code></pre></div><p><strong>Python 运行程序</strong></p><p>在 Python 正则表达式中，括号是用来捕获组的，只有通过括号捕获的部分才会被 findall 函数返回，所以需要先把括号展开再查找字符串</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>re</span>
</span></span><span class=line><span class=cl><span class=n>p</span> <span class=o>=</span> <span class=sa>r</span><span class=s1>&#39;\b(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\b&#39;</span>
</span></span><span class=line><span class=cl><span class=n>string</span> <span class=o>=</span> <span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=cl><span class=s1>255.255.255.1
</span></span></span><span class=line><span class=cl><span class=s1>255.255.0.1
</span></span></span><span class=line><span class=cl><span class=s1>256.256.255.1
</span></span></span><span class=line><span class=cl><span class=s1>256.256.255
</span></span></span><span class=line><span class=cl><span class=s1>abcd.efg.hig.c
</span></span></span><span class=line><span class=cl><span class=s1>giduihda
</span></span></span><span class=line><span class=cl><span class=s1>19216801
</span></span></span><span class=line><span class=cl><span class=s1>192.16801
</span></span></span><span class=line><span class=cl><span class=s1>192.168.0.1
</span></span></span><span class=line><span class=cl><span class=s1>10.32.14.754
</span></span></span><span class=line><span class=cl><span class=s1>4.2.2.1
</span></span></span><span class=line><span class=cl><span class=s1>&#39;&#39;&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>p</span><span class=p>,</span><span class=n>string</span><span class=p>))</span>
</span></span></code></pre></div></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2023
UncleCAT4</section></footer></main><script src=/js/coder.min.bf3def4cc889836d15cf3ab6357b9aaef07fabc3abf78b2a3b6eb00cd53c34e5.js integrity="sha256-vz3vTMiJg20Vzzq2NXuarvB/q8Or94sqO26wDNU8NOU="></script></body></html>