<!doctype html><html lang=en><head><title>Windows10 & 11 安装 WSL2 · UncleCAT4</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="UncleCAT4"><meta name=description content="WSL2 现在已经是我离不开的工具了，实在是太好用了。.. 但安装方法与官网的略微不同，本文记录本人亲身实践的最好的安装方法
什么是 WSL？ Link to heading 适用于 Linux 的 Windows 子系统可让开发人员按原样运行 GNU/Linux 环境 - 包括大多数命令行工具、实用工具和应用程序 - 且不会产生传统虚拟机或双启动设置开销
简单理解，WSL 为用户提供了一个基本完整的 GNU/Linux 环境，用户无需安装虚拟机或者双系统即可使用 GNU/Linux 中的软件
WSL1 是最初发行的版本，但是比较鸡肋，I/O 性能很差，并且没有 Linux 内核，所以有很多 Linux 程序都无法云效，比如 Docker，WSL1 更像是基于 Windows 内核的一个翻译层，实际上工作的还是 Windows 而不是 Linux
WSL2 是 WSL1 的升级版，提供了更好的文件系统性能和更完全的 Linux 系统内核支持，WSL2 使用虚拟化技术在轻量级虚拟机 (VM) 中运行 Linux 内核，同时保留了 WSL1 的操作体验，可以把通过 WSL2 启动的 Linux 系统认为是虚拟机中的一个 Linux 系统，因此，相对于通过用户模式和内核模式组件构成兼容性底层来运行 Linux 的 WSL1 来说，WSL2 的 Linux 系统更完整，功能更完善。例如，WSL1 不支持 Docker，而 WSL2 可以以原生的方式运行 Docker"><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Windows10 & 11 安装 WSL2"><meta name=twitter:description content="WSL2 现在已经是我离不开的工具了，实在是太好用了。.. 但安装方法与官网的略微不同，本文记录本人亲身实践的最好的安装方法
什么是 WSL？ Link to heading 适用于 Linux 的 Windows 子系统可让开发人员按原样运行 GNU/Linux 环境 - 包括大多数命令行工具、实用工具和应用程序 - 且不会产生传统虚拟机或双启动设置开销
简单理解，WSL 为用户提供了一个基本完整的 GNU/Linux 环境，用户无需安装虚拟机或者双系统即可使用 GNU/Linux 中的软件
WSL1 是最初发行的版本，但是比较鸡肋，I/O 性能很差，并且没有 Linux 内核，所以有很多 Linux 程序都无法云效，比如 Docker，WSL1 更像是基于 Windows 内核的一个翻译层，实际上工作的还是 Windows 而不是 Linux
WSL2 是 WSL1 的升级版，提供了更好的文件系统性能和更完全的 Linux 系统内核支持，WSL2 使用虚拟化技术在轻量级虚拟机 (VM) 中运行 Linux 内核，同时保留了 WSL1 的操作体验，可以把通过 WSL2 启动的 Linux 系统认为是虚拟机中的一个 Linux 系统，因此，相对于通过用户模式和内核模式组件构成兼容性底层来运行 Linux 的 WSL1 来说，WSL2 的 Linux 系统更完整，功能更完善。例如，WSL1 不支持 Docker，而 WSL2 可以以原生的方式运行 Docker"><meta property="og:title" content="Windows10 & 11 安装 WSL2"><meta property="og:description" content="WSL2 现在已经是我离不开的工具了，实在是太好用了。.. 但安装方法与官网的略微不同，本文记录本人亲身实践的最好的安装方法
什么是 WSL？ Link to heading 适用于 Linux 的 Windows 子系统可让开发人员按原样运行 GNU/Linux 环境 - 包括大多数命令行工具、实用工具和应用程序 - 且不会产生传统虚拟机或双启动设置开销
简单理解，WSL 为用户提供了一个基本完整的 GNU/Linux 环境，用户无需安装虚拟机或者双系统即可使用 GNU/Linux 中的软件
WSL1 是最初发行的版本，但是比较鸡肋，I/O 性能很差，并且没有 Linux 内核，所以有很多 Linux 程序都无法云效，比如 Docker，WSL1 更像是基于 Windows 内核的一个翻译层，实际上工作的还是 Windows 而不是 Linux
WSL2 是 WSL1 的升级版，提供了更好的文件系统性能和更完全的 Linux 系统内核支持，WSL2 使用虚拟化技术在轻量级虚拟机 (VM) 中运行 Linux 内核，同时保留了 WSL1 的操作体验，可以把通过 WSL2 启动的 Linux 系统认为是虚拟机中的一个 Linux 系统，因此，相对于通过用户模式和内核模式组件构成兼容性底层来运行 Linux 的 WSL1 来说，WSL2 的 Linux 系统更完整，功能更完善。例如，WSL1 不支持 Docker，而 WSL2 可以以原生的方式运行 Docker"><meta property="og:type" content="article"><meta property="og:url" content="https://yuanj.top/posts/309de741/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-20T14:05:25+00:00"><meta property="article:modified_time" content="2023-05-20T14:05:25+00:00"><link rel=canonical href=https://yuanj.top/posts/309de741/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.4ff0f6b1ce46fcca32601b45522839ee29e1edd49053a366cf597e1a2ebec060.css integrity="sha256-T/D2sc5G/MoyYBtFUig57inh7dSQU6Nmz1l+Gi6+wGA=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/favicon.ico sizes=any><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>UncleCAT4</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/essay/>Essay</a></li><li class=navigation-item><a class=navigation-link href=/gestbook/>Gestbook</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://yuanj.top/posts/309de741/>Windows10 & 11 安装 WSL2</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2023-05-20T14:05:25Z>May 20, 2023</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
2-minute read</span></div><div class=tags><i class="fa fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/windows/>Windows</a></span></div></div></header><div class=post-content><blockquote><p>WSL2 现在已经是我离不开的工具了，实在是太好用了。.. 但安装方法与官网的略微不同，本文记录本人亲身实践的最好的安装方法</p></blockquote><h2 id=什么是-wsl>什么是 WSL？
<a class=heading-link href=#%e4%bb%80%e4%b9%88%e6%98%af-wsl><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>适用于 Linux 的 Windows 子系统可让开发人员按原样运行 GNU/Linux 环境 - 包括大多数命令行工具、实用工具和应用程序 - 且不会产生传统虚拟机或双启动设置开销</p><p>简单理解，WSL 为用户提供了一个基本完整的 GNU/Linux 环境，用户无需安装虚拟机或者双系统即可使用 GNU/Linux 中的软件</p><p>WSL1 是最初发行的版本，但是比较鸡肋，I/O 性能很差，并且没有 Linux 内核，所以有很多 Linux 程序都无法云效，比如 Docker，WSL1 更像是基于 Windows 内核的一个翻译层，实际上工作的还是 Windows 而不是 Linux</p><p>WSL2 是 WSL1 的升级版，提供了更好的文件系统性能和更完全的 Linux 系统内核支持，WSL2 使用虚拟化技术在轻量级虚拟机 (VM) 中运行 Linux 内核，同时保留了 WSL1 的操作体验，可以把通过 WSL2 启动的 Linux 系统认为是虚拟机中的一个 Linux 系统，因此，相对于通过用户模式和内核模式组件构成兼容性底层来运行 Linux 的 WSL1 来说，WSL2 的 Linux 系统更完整，功能更完善。例如，WSL1 不支持 Docker，而 WSL2 可以以原生的方式运行 Docker</p><p>更多关于 Linux 的内容参考此文章 <a href=https://www.hieroglyphs.top/linux/20230317/ class=external-link target=_blank rel=noopener>《什么是 Linux？它和 Windows 有什么区别呢？》</a></p><h2 id=检查-windows-版本>检查 Windows 版本
<a class=heading-link href=#%e6%a3%80%e6%9f%a5-windows-%e7%89%88%e6%9c%ac><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>打开 Windows 设置——系统——关于——操作系统内部版本</p><p>需要内部版本为 18362 或更高，版本号为 1903 或更高，也就是说 LTSC2019（1809）是无法使用 WSL2 的</p><h2 id=wsl2-的安装>WSL2 的安装
<a class=heading-link href=#wsl2-%e7%9a%84%e5%ae%89%e8%a3%85><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>以管理员身份打开 Powershell ，分别运行下列两行代码</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>dism</span><span class=p>.</span><span class=py>exe</span> <span class=p>/</span><span class=n>online</span> <span class=p>/</span><span class=nb>enable-feature</span> <span class=p>/</span><span class=n>featurename</span><span class=err>:</span><span class=nb>Microsoft-Windows</span><span class=n>-Subsystem-Linux</span> <span class=p>/</span><span class=n>all</span> <span class=p>/</span><span class=n>norestart</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>dism</span><span class=p>.</span><span class=py>exe</span> <span class=p>/</span><span class=n>online</span> <span class=p>/</span><span class=nb>enable-feature</span> <span class=p>/</span><span class=n>featurename</span><span class=err>:</span><span class=n>VirtualMachinePlatform</span> <span class=p>/</span><span class=n>all</span> <span class=p>/</span><span class=n>norestart</span>
</span></span></code></pre></div><p>等待功能启用完成后重启电脑，重启完成之后再打开 Powershell，运行下列代码</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=n>wsl</span> <span class=p>-</span><span class=n>-update</span>
</span></span></code></pre></div><p>将 WSL 更新至最新版</p><h2 id=安装发行版>安装发行版
<a class=heading-link href=#%e5%ae%89%e8%a3%85%e5%8f%91%e8%a1%8c%e7%89%88><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>点击 <a href=https://www.microsoft.com/store/apps/9PN20MSR04DW class=external-link target=_blank rel=noopener>此处</a> 打开微软商店安装 Ubuntu22.04LTS，当然，也可以安装其他的发行版</p><p>安装完成之后打开 Ubuntu22.04LTS，输入用户名和密码</p><p>注意：密码需要输入两次，且输入时不会显示密码</p><h2 id=配置可选>配置（可选）
<a class=heading-link href=#%e9%85%8d%e7%bd%ae%e5%8f%af%e9%80%89><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><h3 id=换源>换源
<a class=heading-link href=#%e6%8d%a2%e6%ba%90><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>由于大多数 Linux 发行版的默认软件仓库在国外，所以我们需要将软件源更换为国内的以提高下载速度，以 Ubuntu 为例</p><p>输入下列命令使用中科大软件源</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo sed -i <span class=s1>&#39;s@//.*archive.ubuntu.com@//mirrors.ustc.edu.cn@g&#39;</span> /etc/apt/sources.list
</span></span></code></pre></div><p>更多细节和其他发行版配置可以查看 <a href=https://mirrors.ustc.edu.cn/help/index.html class=external-link target=_blank rel=noopener>中科大软件源配置</a> 和 <a href=https://mirrors.tuna.tsinghua.edu.cn/help/AOSP/ class=external-link target=_blank rel=noopener>清华软件源使用帮助</a></p><h3 id=更新系统>更新系统
<a class=heading-link href=#%e6%9b%b4%e6%96%b0%e7%b3%bb%e7%bb%9f><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>换源完成后输入下列命令更新系统和软件包</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt upate <span class=o>&amp;&amp;</span> sudo apt upgrade
</span></span></code></pre></div><h2 id=ubuntu-常用命令>Ubuntu 常用命令
<a class=heading-link href=#ubuntu-%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Ubuntu 中安装和卸载软件包使用的是 apt 软件包管理器，下面是一些常用的命令</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1>## 查看一些可更新的包</span>
</span></span><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 升级安装包</span>
</span></span><span class=line><span class=cl>sudo apt upgrade
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 安装指定软件包</span>
</span></span><span class=line><span class=cl>sudo apt install &lt;package_name&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 卸载指定软件包</span>
</span></span><span class=line><span class=cl>sudo apt remove &lt;package_name&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 查找软件包</span>
</span></span><span class=line><span class=cl>apt search &lt;package_name&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 列出可更新的软件包</span>
</span></span><span class=line><span class=cl>apt list --upgradeable
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 清理不再使用的依赖和库文件</span>
</span></span><span class=line><span class=cl>sudo apt autoremove
</span></span></code></pre></div><p>关于 conda 的安装可以参考此文章 <a href=https://www.hieroglyphs.top/2023/05/01/linux/20230501/ class=external-link target=_blank rel=noopener>《Linux 下安装 conda》</a></p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2023
UncleCAT4</section></footer></main><script src=/js/coder.min.bf3def4cc889836d15cf3ab6357b9aaef07fabc3abf78b2a3b6eb00cd53c34e5.js integrity="sha256-vz3vTMiJg20Vzzq2NXuarvB/q8Or94sqO26wDNU8NOU="></script></body></html>