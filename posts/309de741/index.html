<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Windows10 & 11 安装 WSL2 - 猫四叔</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:title" content="Windows10 & 11 安装 WSL2"><meta property="og:description" content="WSL2 现在已经是我离不开的工具了，实在是太好用了。.. 但安装方法与官网的略微不同，本文记录本人亲身实践的最好的安装方法。"><meta property="og:type" content="article"><meta property="og:url" content="https://yuanj.top/posts/309de741/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-20T14:05:25+00:00"><meta property="article:modified_time" content="2023-05-20T14:05:25+00:00"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css></head><body class=body><div class="container container--outer"><header class=header><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><div class="container header__container"><div class=logo><a class=logo__link href=/ title=猫四叔 rel=home><div class="logo__item logo__text"><div class=logo__title>猫四叔</div><div class=logo__tagline>思绪来得快去得也快，偶尔会在这里停留</div></div></a></div></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Windows10 & 11 安装 WSL2</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><time class=meta__text datetime=2023-05-20T14:05:25Z>May 20, 2023</time></div></div><div class=post_busuanzi><p>本文总阅读量 <span id=busuanzi_value_page_pv></span> 次</p></div></header><div class="content post__content clearfix"><p>WSL2 现在已经是我离不开的工具了，实在是太好用了。.. 但安装方法与官网的略微不同，本文记录本人亲身实践的最好的安装方法。</p><h2 id=什么是-wsl>什么是 WSL？</h2><p>适用于 Linux 的 Windows 子系统可让开发人员按原样运行 GNU/Linux 环境 - 包括大多数命令行工具、实用工具和应用程序 - 且不会产生传统虚拟机或双启动设置开销</p><p>简单理解，WSL 为用户提供了一个基本完整的 GNU/Linux 环境，用户无需安装虚拟机或者双系统即可使用 GNU/Linux 中的软件</p><p>WSL1 是最初发行的版本，但是比较鸡肋，I/O 性能很差，并且没有 Linux 内核，所以有很多 Linux 程序都无法云效，比如 Docker，WSL1 更像是基于 Windows 内核的一个翻译层，实际上工作的还是 Windows 而不是 Linux</p><p>WSL2 是 WSL1 的升级版，提供了更好的文件系统性能和更完全的 Linux 系统内核支持，WSL2 使用虚拟化技术在轻量级虚拟机 (VM) 中运行 Linux 内核，同时保留了 WSL1 的操作体验，可以把通过 WSL2 启动的 Linux 系统认为是虚拟机中的一个 Linux 系统，因此，相对于通过用户模式和内核模式组件构成兼容性底层来运行 Linux 的 WSL1 来说，WSL2 的 Linux 系统更完整，功能更完善。例如，WSL1 不支持 Docker，而 WSL2 可以以原生的方式运行 Docker</p><p>更多关于 Linux 的内容参考此文章 <a href=https://www.hieroglyphs.top/linux/20230317/>《什么是 Linux？它和 Windows 有什么区别呢？》</a></p><h2 id=检查-windows-版本>检查 Windows 版本</h2><p>打开 Windows 设置——系统——关于——操作系统内部版本</p><p>需要内部版本为 18362 或更高，版本号为 1903 或更高，也就是说 LTSC2019（1809）是无法使用 WSL2 的</p><h2 id=wsl2-的安装>WSL2 的安装</h2><p>以管理员身份打开 Powershell ，分别运行下列两行代码</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>dism.exe /online /enable-feature /featurename<span style=color:#960050;background-color:#1e0010>:</span>Microsoft-Windows-Subsystem-Linux /all /norestart
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>dism.exe /online /enable-feature /featurename<span style=color:#960050;background-color:#1e0010>:</span>VirtualMachinePlatform /all /norestart
</span></span></code></pre></div><p>等待功能启用完成后重启电脑，重启完成之后再打开 Powershell，运行下列代码</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>wsl --update
</span></span></code></pre></div><p>将 WSL 更新至最新版</p><h2 id=安装发行版>安装发行版</h2><p>点击 <a href=https://www.microsoft.com/store/apps/9PN20MSR04DW>此处</a> 打开微软商店安装 Ubuntu22.04LTS，当然，也可以安装其他的发行版</p><p>安装完成之后打开 Ubuntu22.04LTS，输入用户名和密码</p><p>注意：密码需要输入两次，且输入时不会显示密码</p><h2 id=配置可选>配置（可选）</h2><h3 id=换源>换源</h3><p>由于大多数 Linux 发行版的默认软件仓库在国外，所以我们需要将软件源更换为国内的以提高下载速度，以 Ubuntu 为例</p><p>输入下列命令使用中科大软件源</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo sed -i <span style=color:#e6db74>&#39;s@//.*archive.ubuntu.com@//mirrors.ustc.edu.cn@g&#39;</span> /etc/apt/sources.list
</span></span></code></pre></div><p>更多细节和其他发行版配置可以查看 <a href=https://mirrors.ustc.edu.cn/help/index.html>中科大软件源配置</a> 和 <a href=https://mirrors.tuna.tsinghua.edu.cn/help/AOSP/>清华软件源使用帮助</a></p><h3 id=更新系统>更新系统</h3><p>换源完成后输入下列命令更新系统和软件包</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt upate <span style=color:#f92672>&amp;&amp;</span> sudo apt upgrade
</span></span></code></pre></div><h2 id=ubuntu-常用命令>Ubuntu 常用命令</h2><p>Ubuntu 中安装和卸载软件包使用的是 apt 软件包管理器，下面是一些常用的命令</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>## 查看一些可更新的包</span>
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 升级安装包</span>
</span></span><span style=display:flex><span>sudo apt upgrade
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 安装指定软件包</span>
</span></span><span style=display:flex><span>sudo apt install &lt;package_name&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 卸载指定软件包</span>
</span></span><span style=display:flex><span>sudo apt remove &lt;package_name&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 查找软件包</span>
</span></span><span style=display:flex><span>apt search &lt;package_name&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 列出可更新的软件包</span>
</span></span><span style=display:flex><span>apt list --upgradeable
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>## 清理不再使用的依赖和库文件</span>
</span></span><span style=display:flex><span>sudo apt autoremove
</span></span></code></pre></div><p>关于 conda 的安装可以参考此文章 <a href=https://www.hieroglyphs.top/2023/05/01/linux/20230501/>《Linux 下安装 conda》</a></p></div></article></main><div class=comments><p>COMMENTS</p></div><div id=cusdis_thread data-host=https://cusdis.com data-app-id=3b34877a-34f0-4b03-a5f9-8ca25231e4cd data-page-id="Windows10 & 11 安装 WSL2" data-page-url=https://yuanj.top/posts/309de741/ data-page-title="Windows10 & 11 安装 WSL2"></div><script async defer src=/js/cusdis.es.js></script></div></div></div><script async defer src=/js/menu.js></script></body></html>