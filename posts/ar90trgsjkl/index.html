<!doctype html><html lang=en-US><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://yuanj.top/images/favicon.ico><title>Python 计算等效 A 声级 | UncleCAT4</title><meta name=title content="Python 计算等效 A 声级"><meta name=description content="利用 Python 计算国家环境噪声监测技术规范中的等效声级
import math with open(&#34;./data.txt&#34;) as noise_data: lines = noise_data.readlines() number_string = '\t'.join(lines) number = number_string .split('\t') number = [x.strip() for x in number if x.strip()!=''] number.pop(0) number.pop(200) # number.pop(400) def L_number(order): for i in number[:order]: l = 0 l = l + (1/order)*pow(order, (0.1)*float(i)) L_10 = 10*math.log(10,l) for i in number[:order+40]: l = 0 l = l + (1/(order + 40))*pow(order, (0.1)*float(i)) L_50 = 10*math.log(10,l) for i in number[:order+80]: l = 0 l = l + (1/(order + 80))*pow(order, (0."><meta name=keywords content="Python,"><meta property="og:title" content="Python 计算等效 A 声级"><meta property="og:description" content="利用 Python 计算国家环境噪声监测技术规范中的等效声级
import math with open(&#34;./data.txt&#34;) as noise_data: lines = noise_data.readlines() number_string = '\t'.join(lines) number = number_string .split('\t') number = [x.strip() for x in number if x.strip()!=''] number.pop(0) number.pop(200) # number.pop(400) def L_number(order): for i in number[:order]: l = 0 l = l + (1/order)*pow(order, (0.1)*float(i)) L_10 = 10*math.log(10,l) for i in number[:order+40]: l = 0 l = l + (1/(order + 40))*pow(order, (0.1)*float(i)) L_50 = 10*math.log(10,l) for i in number[:order+80]: l = 0 l = l + (1/(order + 80))*pow(order, (0."><meta property="og:type" content="article"><meta property="og:url" content="https://yuanj.top/posts/ar90trgsjkl/"><meta property="og:image" content="https://yuanj.top/images/avatare.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-09-13T21:24:56+08:00"><meta property="article:modified_time" content="2023-09-13T21:24:56+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yuanj.top/images/avatare.png"><meta name=twitter:title content="Python 计算等效 A 声级"><meta name=twitter:description content="利用 Python 计算国家环境噪声监测技术规范中的等效声级
import math with open(&#34;./data.txt&#34;) as noise_data: lines = noise_data.readlines() number_string = '\t'.join(lines) number = number_string .split('\t') number = [x.strip() for x in number if x.strip()!=''] number.pop(0) number.pop(200) # number.pop(400) def L_number(order): for i in number[:order]: l = 0 l = l + (1/order)*pow(order, (0.1)*float(i)) L_10 = 10*math.log(10,l) for i in number[:order+40]: l = 0 l = l + (1/(order + 40))*pow(order, (0.1)*float(i)) L_50 = 10*math.log(10,l) for i in number[:order+80]: l = 0 l = l + (1/(order + 80))*pow(order, (0."><meta itemprop=name content="Python 计算等效 A 声级"><meta itemprop=description content="利用 Python 计算国家环境噪声监测技术规范中的等效声级
import math with open(&#34;./data.txt&#34;) as noise_data: lines = noise_data.readlines() number_string = '\t'.join(lines) number = number_string .split('\t') number = [x.strip() for x in number if x.strip()!=''] number.pop(0) number.pop(200) # number.pop(400) def L_number(order): for i in number[:order]: l = 0 l = l + (1/order)*pow(order, (0.1)*float(i)) L_10 = 10*math.log(10,l) for i in number[:order+40]: l = 0 l = l + (1/(order + 40))*pow(order, (0.1)*float(i)) L_50 = 10*math.log(10,l) for i in number[:order+80]: l = 0 l = l + (1/(order + 80))*pow(order, (0."><meta itemprop=datePublished content="2023-09-13T21:24:56+08:00"><meta itemprop=dateModified content="2023-09-13T21:24:56+08:00"><meta itemprop=wordCount content="100"><meta itemprop=image content="https://yuanj.top/images/avatare.png"><meta itemprop=keywords content="Python,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;font-size:15px;margin:auto;padding:20px;max-width:700px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3d9ec1;text-decoration:none}a:hover{color:#bac0d3}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px;color:#000;text-decoration-line:underline}nav a:hover{color:#bac0d3}.social-icons{float:right}.post-title{font-size:20px!important;border-left:5px solid #dae0e6!important;padding-left:20px!important;color:#697076;font-weight:400}.post-data{font-size:14px!important;padding-left:20px!important;font-weight:400}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%;display:block;margin-left:auto;margin-right:auto}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px;overflow-x:auto}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}</style></head><body><header><a href=/ class=title><h2>UncleCAT4</h2></a><nav><a href=/posts>Blog</a>
<a href=/journal>Journal</a><div class=social-icons><a href=/misc>MISC</a></div></nav></header><main><h2 class=post-title>Python 计算等效 A 声级</h2><p><i><time class=post-data datetime=2023-09-13 pubdate>13 Sep, 2023</time></i></p><content><blockquote><p>利用 Python 计算国家环境噪声监测技术规范中的等效声级</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> math
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#34;./data.txt&#34;</span>) <span style=color:#66d9ef>as</span> noise_data:
</span></span><span style=display:flex><span>    lines <span style=color:#f92672>=</span> noise_data<span style=color:#f92672>.</span>readlines()
</span></span><span style=display:flex><span>    number_string <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>&#39;</span><span style=color:#f92672>.</span>join(lines)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>number <span style=color:#f92672>=</span> number_string <span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\t</span><span style=color:#e6db74>&#39;</span>)
</span></span><span style=display:flex><span>number <span style=color:#f92672>=</span> [x<span style=color:#f92672>.</span>strip() <span style=color:#66d9ef>for</span> x <span style=color:#f92672>in</span> number <span style=color:#66d9ef>if</span> x<span style=color:#f92672>.</span>strip()<span style=color:#f92672>!=</span><span style=color:#e6db74>&#39;&#39;</span>]
</span></span><span style=display:flex><span>number<span style=color:#f92672>.</span>pop(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>number<span style=color:#f92672>.</span>pop(<span style=color:#ae81ff>200</span>)
</span></span><span style=display:flex><span><span style=color:#75715e># number.pop(400)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>L_number</span>(order):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> number[:order]:
</span></span><span style=display:flex><span>        l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        l <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> (<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span>order)<span style=color:#f92672>*</span>pow(order, (<span style=color:#ae81ff>0.1</span>)<span style=color:#f92672>*</span>float(i))
</span></span><span style=display:flex><span>    L_10 <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span><span style=color:#f92672>*</span>math<span style=color:#f92672>.</span>log(<span style=color:#ae81ff>10</span>,l)
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> number[:order<span style=color:#f92672>+</span><span style=color:#ae81ff>40</span>]:
</span></span><span style=display:flex><span>        l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        l <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> (<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span>(order <span style=color:#f92672>+</span> <span style=color:#ae81ff>40</span>))<span style=color:#f92672>*</span>pow(order, (<span style=color:#ae81ff>0.1</span>)<span style=color:#f92672>*</span>float(i))
</span></span><span style=display:flex><span>    L_50 <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span><span style=color:#f92672>*</span>math<span style=color:#f92672>.</span>log(<span style=color:#ae81ff>10</span>,l)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> number[:order<span style=color:#f92672>+</span><span style=color:#ae81ff>80</span>]:
</span></span><span style=display:flex><span>        l <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        l <span style=color:#f92672>=</span> l <span style=color:#f92672>+</span> (<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span>(order <span style=color:#f92672>+</span> <span style=color:#ae81ff>80</span>))<span style=color:#f92672>*</span>pow(order, (<span style=color:#ae81ff>0.1</span>)<span style=color:#f92672>*</span>float(i))
</span></span><span style=display:flex><span>    L_90 <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span><span style=color:#f92672>*</span>math<span style=color:#f92672>.</span>log(<span style=color:#ae81ff>10</span>,l)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    L_eq <span style=color:#f92672>=</span> L_50 <span style=color:#f92672>+</span> ((L_10 <span style=color:#f92672>-</span> L_90)<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span>)<span style=color:#f92672>/</span><span style=color:#ae81ff>60</span>
</span></span></code></pre></div><p>从 data.txt 中导入 200 个数据进行计算，分别求得 L10、L50、L90，最后计算 Leq</p><p><img src=https://jihulab.com/UncleCAT4/static/-/raw/main/blog-images/20230913212744.png alt></p></content><p><a href=https://yuanj.top/posts/python/>#Python</a></p></main><footer>© 2023 UncleCAT4</footer></body></html>